<html>
<body>
<svg class="chart"></svg>
</body>
<style>
  .y-axis .domain {
    color : white
  }
  .y-axis .tick line{
    color : white
  }
</style>

<script src="https://d3js.org/d3.v5.min.js"></script>
<script>
  var dataset = [[4,5,1,7],[1,8,3,4],[5,6,3,100]];
  var width = 500;
  var height = 500;
  var xDomain = ['12AM', '6AM', '12PM', '6PM'];
  var yDomain = ['monday', 'tuesday', 'wednesday'];

  var xScale = d3.scaleOrdinal()
    .domain(xDomain)
    .range([0, 60, 120, 180]);
  var xAxis = d3.axisTop(xScale);

  var yScale = d3.scaleOrdinal()
    .domain(yDomain)
    .range([0, 60, 120]);
  var yAxis = d3.axisLeft(yScale);

  var chart = d3.select(".chart")
    .style("width", width)
    .style("height", height);

  chart.append("g")
    .attr("class", "x-axis")
    .attr("transform", "translate(150,30)")
    .call(xAxis);

  chart.append("g")
    .attr("class", "y-axis")
    .attr("transform", "translate(90,70)")
    .call(yAxis);

  var row = chart
    .selectAll("svg")
      .data( dataset)
    .enter().append("svg")
      .attr("y", function(d, i) {return (i*60 + 10)})
      .attr("height", 120);

  function generateColor(size) {
    if(size <= 3) {return d3.interpolateGnBu(0.25)}
    else if(size <= 6) {return d3.interpolateGnBu(0.5)}
    else if(size <= 8) {return d3.interpolateGnBu(0.75)}
    else {return d3.interpolateGnBu(1)};
  }

  var circle = row.selectAll("circle")
      .data( function(d,i) { return d; } )
    .enter().append("circle")
      .style("r", function(d,i) { if (d*3 > 25) {return 25} else {return d*3} })
      .style("cx", function(d,i) { return (i * 60) + 150; })
      .style("cy", 60)
      .style("fill", function (d) {return generateColor(d)});
</script>
</html>
